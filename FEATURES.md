# PopGraph Studio 功能清单 (Feature List)

本文档详细列出了 PopGraph Studio (Z-StudioArt) 目前已实现的功能模块及详细特性。

## 🧩 1. 用户认证模块 (User Authentication)

| 功能点 | 详细说明 | 状态 |
|---|---|---|
| **手机号注册/登录** | 支持中国大陆手机号 + 短信验证码进行注册和登录。 | ✅ 已实现 |
| **邮箱注册/登录** | 支持邮箱 + 密码方式注册和登录，密码经过 bcrypt 加密存储。 | ✅ 已实现 |
| **JWT 认证体系** | 基于 Access Token (30分钟) 和 Refresh Token (7天) 的双 Token 认证机制。 | ✅ 已实现 |
| **自动 Token 刷新** | 前端拦截器自动处理 401 过期请求，无感刷新 Token。 | ✅ 已实现 |
| **强制登出** | 支持服务端撤销 Refresh Token，实现强制下线功能。 | ✅ 已实现 |
| **新用户权益** | 新注册用户默认赠送 FREE 会员等级。 | ✅ 已实现 |

## 🎨 2. AI 海报生成 (Poster Generation)

| 功能点 | 详细说明 | 状态 |
|---|---|---|
| **文生图生成** | 集成 ModelScope Z-Image-Turbo 模型，支持中文 Prompt 生成高质量海报。 | ✅ 已实现 |
| **多尺寸支持** | 支持 1:1 (电商方图), 9:16 (手机海报), 16:9 (视频封面) 三种标准尺寸。 | ✅ 已实现 |
| **智能模板系统** | 内置 9 款商业模板（促销/高端/节日），自动注入风格关键词、配色和排版提示。 | ✅ 已实现 |
| **敏感词过滤** | 内置中英文敏感词库，拦截违规 Prompt，保障内容安全。 | ✅ 已实现 |
| **生成历史记录** | 自动记录生成历史，支持分页查询、详情查看和删除。 | ✅ 已实现 |
| **S3 图片存储** | 生成结果自动上传至对象存储（支持 MinIO/OSS/S3），支持 CDN 访问。 | ✅ 已实现 |

## 🛍️ 3. 场景融合 (Scene Fusion)

| 功能点 | 详细说明 | 状态 |
|---|---|---|
| **商品图上传** | 支持上传商品白底图，前端自动压缩并预览。 | ✅ 已实现 |
| **智能抠图 (Alpha)** | 后端使用 NumPy 基于阈值自动提取商品主体，生成 Alpha 蒙版。 | ✅ 已实现 |
| **图生图融合** | 将提取的商品主体与 AI 生成的场景背景完美融合，保持商品真实度。 | ✅ 已实现 |
| **权限控制** | 仅限 Professional (专业版) 会员使用此功能。 | ✅ 已实现 |

## 👑 4. 会员与订阅 (Membership & Subscription)

| 功能点 | 详细说明 | 状态 |
|---|---|---|
| **多等级会员体系** | 支持 FREE (免费), BASIC (基础), PROFESSIONAL (专业) 三个等级。 | ✅ 已实现 |
| **权益差异化控制** | **水印控制** (免费版有水印)，**生成限额** (免费版 5次/天)，**功能锁** (场景融合)。 | ✅ 已实现 |
| **订阅计划管理** | 支持月付/年付订阅计划，不同计划对应不同会员等级。 | ✅ 已实现 |
| **支付订单流程** | 完整的订单创建、支付状态流转（待支付 -> 已支付/失败/过期）。 | ✅ 已实现 |
| **模拟支付网关** | 支持支付宝、微信、银联的模拟支付流程（生成二维码/跳转链接）。 | ✅ 已实现 |
| **过期自动降级** | 后台任务定时检查订阅状态，过期后自动降级为 FREE。 | ✅ 已实现 |

## ⚙️ 5. 系统基础 (System Infrastructure)

| 功能点 | 详细说明 | 状态 |
|---|---|---|
| **频率限制 (Rate Limiting)** | 针对短信发送、AI 生成接口的频率限制，防止滥用。 | ✅ 已实现 |
| **后台任务调度** | 基于 AsyncIO 的任务调度器，处理历史记录清理和订阅检查。 | ✅ 已实现 |
| **数据持久化 (MVP)** | *目前使用内存存储 (In-Memory) 进行演示，重启后数据重置。* | ⚠️ 待迁移 DB |
| **Docker 部署** | 提供 Dockerfile 和 docker-compose.yml，支持一键容器化部署。 | ✅ 已实现 |
